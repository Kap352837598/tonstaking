<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TON Stake ‚Äî –ö–∞–±–∏–Ω–µ—Ç</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --border: rgba(15,23,42,.10);
      --shadow: 0 18px 60px rgba(2,6,23,.10);
      --blue: rgba(2,132,199,.95);
    }
    .shadowSoft{ box-shadow: var(--shadow); }
    .card{ border:1px solid var(--border); background: rgba(255,255,255,.92); border-radius: 20px; }
    .muted{ color: rgba(15,23,42,.65); }
    .btn{ border-radius: 999px; padding:.7rem 1.1rem; font-weight:700; }
    .btnP{ background: linear-gradient(180deg, rgba(14,165,233,1), rgba(2,132,199,1)); color:#fff; }
    .btnP:hover{ filter: brightness(.98); }
    .btnW{ background:#fff; border:1px solid var(--border); }
    .sidebarItem{ border-radius: 14px; padding:.78rem 1rem; display:flex; align-items:center; gap:.7rem; border:1px solid rgba(15,23,42,.08); background: rgba(248,250,252,.9); cursor:pointer; }
    .sidebarItem:hover{ background: rgba(241,250,255,.95); }
    .sidebarItemActive{ background: rgba(14,165,233,.14); border:1px solid rgba(2,132,199,.25); }
    .ringBg{
      position:absolute; right:-70px; bottom:-70px;
      width:280px; height:280px; border-radius:999px;
      border:1px solid rgba(2,132,199,.18);
    }
    .ringBg2{
      position:absolute; right:-40px; bottom:-40px;
      width:220px; height:220px; border-radius:999px;
      border:1px solid rgba(2,132,199,.16);
    }
    input[type="range"]{
      -webkit-appearance:none; width:100%; height:6px; border-radius:999px;
      background: linear-gradient(90deg, var(--blue), rgba(56,189,248,.35)); outline:none;
    }
    input[type="range"]::-webkit-slider-thumb{
      -webkit-appearance:none; width:18px;height:18px;border-radius:999px; background:white;
      border:2px solid var(--blue); box-shadow:0 8px 18px rgba(2,6,23,.18); cursor:pointer;
    }
    .reveal{ opacity:0; transform: translateY(14px); transition: all .55s ease; }
    .reveal.show{ opacity:1; transform: translateY(0); }
  </style>
</head>
<body class="bg-slate-50">

<div class="min-h-screen flex">

  <!-- SIDEBAR -->
  <aside class="w-[280px] hidden md:flex flex-col gap-4 p-5 bg-white border-r border-slate-200">
    <div class="flex items-center gap-3 px-2 py-2">
      <div class="h-10 w-10 rounded-2xl bg-sky-500"></div>
      <div class="leading-tight">
        <div class="font-semibold text-lg">TON Stake</div>
        <div class="text-xs muted">–ö–∞–±–∏–Ω–µ—Ç</div>
      </div>
    </div>

    <button id="connectBtnSide" class="btn btnP w-full flex items-center justify-center gap-2">
      <span>üîó</span> <span id="connectBtnTextSide">–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫</span>
    </button>

    <nav class="mt-1 space-y-2">
      <div class="sidebarItem sidebarItemActive" data-tab="staking">
        <span>ü™ô</span><span class="font-semibold">–°—Ç–µ–π–∫–∏–Ω–≥</span>
      </div>
      <div class="sidebarItem" data-tab="history">
        <span>üìú</span><span>–ò—Å—Ç–æ—Ä–∏—è</span>
      </div>
      <div class="sidebarItem" data-tab="support">
        <span>üí¨</span><span>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
      </div>
      <div class="sidebarItem" data-tab="ref">
        <span>üë•</span><span>–†–µ—Ñ. –ø—Ä–æ–≥—Ä–∞–º–º–∞</span>
      </div>
      <div class="sidebarItem" data-tab="promo">
        <span>üéÅ</span><span>–ü—Ä–æ–º–æ–∫–æ–¥</span>
      </div>
    </nav>

    <div class="mt-auto text-xs muted px-2">
      <div>Network: TON</div>
      <div id="addrSide" class="mt-1 break-all">Wallet: ‚Äî</div>
    </div>
  </aside>

  <!-- MAIN -->
  <main class="flex-1">
    <!-- TOP BAR -->
    <div class="h-[72px] bg-white border-b border-slate-200 flex items-center justify-between px-4 md:px-8">
      <div class="flex items-center gap-3">
        <div class="md:hidden">
          <div class="h-10 w-10 rounded-2xl bg-sky-500"></div>
        </div>
        <div class="flex items-center gap-2 text-lg font-semibold">
          <span id="topTitleIcon">ü™ô</span> <span id="topTitle">–°—Ç–µ–π–∫–∏–Ω–≥</span>
        </div>
      </div>

      <button id="connectBtnTop" class="btn btnP flex items-center gap-2">
        <span>üîó</span> <span id="connectBtnTextTop">–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫</span>
      </button>
    </div>

    <!-- CONTENT -->
    <div class="px-4 md:px-8 py-6">
      <!-- –í–ö–õ–ê–î–ö–ê –°–¢–ï–ô–ö–ò–ù–ì -->
      <section id="tab-staking" class="tabBlock space-y-6">
        <div class="card p-6 shadowSoft">
          <div class="text-xl font-bold">–ü–æ–¥–∫–ª—é—á–∏ –∫–æ—à–µ–ª—ë–∫ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã</div>
          <div class="mt-4 muted">–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫" –≤–≤–µ—Ä—Ö—É</div>
        </div>
      </section>

      <!-- –î–†–£–ì–ò–ï –í–ö–õ–ê–î–ö–ò (—Å–∫—Ä—ã—Ç—ã) -->
      <section id="tab-history" class="tabBlock hidden space-y-4">
        <div class="card p-6 shadowSoft">–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</div>
      </section>
      <section id="tab-support" class="tabBlock hidden space-y-4">
        <div class="card p-6 shadowSoft">–ü–æ–¥–¥–µ—Ä–∂–∫–∞: –Ω–∞–ø–∏—à–∏—Ç–µ –≤ Telegram</div>
      </section>
      <section id="tab-ref" class="tabBlock hidden space-y-4">
        <div class="card p-6 shadowSoft">–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</div>
      </section>
      <section id="tab-promo" class="tabBlock hidden space-y-4">
        <div class="card p-6 shadowSoft">–ü—Ä–æ–º–æ–∫–æ–¥</div>
      </section>
    </div>
  </main>
</div>

<!-- –°–ö–†–ò–ü–¢ –í–ö–õ–ê–î–û–ö -->
<script>
  const tabMap = {
    staking: {title:"–°—Ç–µ–π–∫–∏–Ω–≥", icon:"ü™ô"},
    history: {title:"–ò—Å—Ç–æ—Ä–∏—è", icon:"üìú"},
    support: {title:"–ü–æ–¥–¥–µ—Ä–∂–∫–∞", icon:"üí¨"},
    ref: {title:"–†–µ—Ñ. –ø—Ä–æ–≥—Ä–∞–º–º–∞", icon:"üë•"},
    promo: {title:"–ü—Ä–æ–º–æ–∫–æ–¥", icon:"üéÅ"},
  };

  function showTab(key){
    document.querySelectorAll('.tabBlock').forEach(s => s.classList.add('hidden'));
    const t = document.getElementById('tab-' + key);
    if (t) t.classList.remove('hidden');

    document.querySelectorAll('.sidebarItem').forEach(i => i.classList.remove('sidebarItemActive'));
    const b = document.querySelector(`.sidebarItem[data-tab="${key}"]`);
    if (b) b.classList.add('sidebarItemActive');

    const title = document.getElementById('topTitle');
    const icon = document.getElementById('topTitleIcon');
    if (title) title.textContent = tabMap[key]?.title || "‚Äî";
    if (icon) icon.textContent = tabMap[key]?.icon || "‚Ä¢";
  }

  document.querySelectorAll('.sidebarItem').forEach(item => {
    item.addEventListener('click', () => showTab(item.dataset.tab));
  });

  showTab('staking');
</script>

<!-- TON CONNECT (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è) -->
<script type="module">
  import { TonConnectUI } from "https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js";

  // –ê–î–†–ï–° –ü–û–õ–£–ß–ê–¢–ï–õ–Ø (–ó–ê–ú–ï–ù–ò –ù–ê –°–í–û–ô!)
  const RECEIVER_ADDRESS = "UQAq0NKzs0XtMyzbOn6ieHvAMudRq5ILy8oT_TOMLD8JEutW";

  const addrSide = document.getElementById('addrSide');
  const btnTextTop = document.getElementById('connectBtnTextTop');
  const btnTextSide = document.getElementById('connectBtnTextSide');
  const statusEl = document.getElementById('status');

  function setStatus(t){ if(statusEl) statusEl.textContent = t || ""; }

  // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø TON CONNECT (–ü–†–ê–í–ò–õ–¨–ù–û!)
  let tonConnectUI;
  try {
    tonConnectUI = new TonConnectUI({
      manifestUrl: 'https://kap352837598.github.io/tonconnect-manifest.json'
    });
    console.log("TonConnect –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω");
  } catch(e) {
    console.error("–û—à–∏–±–∫–∞ TonConnect:", e);
    setStatus("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ TonConnect");
  }

  // –§–£–ù–ö–¶–ò–Ø –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø
  async function connect() {
    if(!tonConnectUI) {
      alert("TonConnect –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è, –æ–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É");
      return;
    }
    await tonConnectUI.openModal();
  }

  // –ü–†–ò–í–Ø–ó–ö–ê –ö–ù–û–ü–û–ö
  document.getElementById('connectBtnTop')?.addEventListener('click', connect);
  document.getElementById('connectBtnSide')?.addEventListener('click', connect);

  // –û–¢–°–õ–ï–ñ–ò–í–ê–ù–ò–ï –°–¢–ê–¢–£–°–ê
  if(tonConnectUI) {
    tonConnectUI.onStatusChange(wallet => {
      const connected = !!wallet;
      btnTextTop.textContent = connected ? "–ö–æ—à–µ–ª—ë–∫ –ø–æ–¥–∫–ª—é—á—ë–Ω" : "–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫";
      btnTextSide.textContent = connected ? "–ö–æ—à–µ–ª—ë–∫ –ø–æ–¥–∫–ª—é—á—ë–Ω" : "–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫";
      addrSide.textContent = "Wallet: " + (wallet?.account?.address || "‚Äî");
    });
  }
</script>

</body>
</html>
